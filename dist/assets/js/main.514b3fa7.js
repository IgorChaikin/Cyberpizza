(self.webpackChunkreact_boilerplate=self.webpackChunkreact_boilerplate||[]).push([[179],{424:(t,e,i)=>{"use strict";var n=i(796),r=i(294),s=i(935),o=i(610),a=i(991),c=i(255),l=i(724),u=i(608);i(325);function d(t){return(0,n.Z)("article",{className:"list__item"},void 0,(0,n.Z)("div",{},void 0,(0,n.Z)("img",{src:"".concat(t.staticPath).concat(t.item.imgPath),alt:t.item.title}),(0,n.Z)("button",{onClick:t.onClick},void 0,"+")),(0,n.Z)("p",{className:"list__item__price"},void 0,"$",t.item.price.toFixed(2)),(0,n.Z)("h3",{},void 0,t.item.title),(0,n.Z)("p",{className:"list__item__description"},void 0,t.item.description))}function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,u.Z)(t);if(e){var r=(0,u.Z)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return(0,l.Z)(this,i)}}var f,v=function(t){(0,c.Z)(i,t);var e=h(i);function i(t){var n;return(0,o.Z)(this,i),(n=e.call(this,t)).state={items:t.items,staticPath:t.staticPath,onAdd:t.onAdd,title:t.title},n}return(0,a.Z)(i,[{key:"renderItems",value:function(t,e,i){return null===t||void 0===t?void 0:t.map((function(t){return(0,n.Z)(d,{item:t,staticPath:e,onClick:function(){return i(t)}},t.id)}))}},{key:"componentDidUpdate",value:function(t){t.items===this.props.items&&t.staticPath===this.props.staticPath&&t.onAdd===this.props.onAdd&&t.title===this.props.title||(console.log("update"),this.setState({items:this.props.items,staticPath:this.props.staticPath,onAdd:this.props.onAdd,title:this.props.title}))}},{key:"render",value:function(){var t=this.renderItems(this.state.items,this.state.staticPath,this.state.onAdd);return(0,n.Z)("main",{},void 0,(0,n.Z)("h1",{},void 0,this.state.title),(0,n.Z)("div",{className:"list"},void 0,t))}}]),i}(r.Component);function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,u.Z)(t);if(e){var r=(0,u.Z)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return(0,l.Z)(this,i)}}var m,g=function(t){(0,c.Z)(i,t);var e=p(i);function i(){return(0,o.Z)(this,i),e.apply(this,arguments)}return(0,a.Z)(i,[{key:"renderTags",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i?t:t.slice(0,2);return null===r||void 0===r?void 0:r.map((function(t){return(0,n.Z)("button",{className:t.isActive?"tag_active":"tag",onClick:function(){return e(t.id)}},t.id,"#",t.name)}))}},{key:"render",value:function(){var t=this,e=this.renderTags(this.props.tags,this.props.onSwitch,this.props.all);return(0,n.Z)("div",{className:"filters"},void 0,f||(f=(0,n.Z)("p",{className:"filters__header"},void 0,"filters")),(0,n.Z)("p",{},void 0,e,(0,n.Z)("button",{className:"all",onClick:function(){return t.props.onSwitchAll()}},void 0,(0,n.Z)("img",{src:"".concat(this.props.staticPath,"settings.svg"),alt:"dish.svg"}),"".concat(this.props.all?"hide":"all"," filters"))))}}]),i}(r.Component);function Z(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,u.Z)(t);if(e){var r=(0,u.Z)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return(0,l.Z)(this,i)}}var y,k,A,C=function(t){(0,c.Z)(i,t);var e=Z(i);function i(){return(0,o.Z)(this,i),e.apply(this,arguments)}return(0,a.Z)(i,[{key:"getOrdersCount",value:function(t){var e,i,n,r;return(null===(e=t.ordered)||void 0===e?void 0:e.length)+(null===(i=t.baking)||void 0===i?void 0:i.length)+(null===(n=t.finishing)||void 0===n?void 0:n.length)+(null===(r=t.served)||void 0===r?void 0:r.length)}},{key:"render",value:function(){return(0,n.Z)("button",{className:"orders"},void 0,m||(m=(0,n.Z)("div",{className:"circle"})),(0,n.Z)("img",{src:"".concat(this.props.staticPath,"dish.svg"),alt:"dish.svg"}),(0,n.Z)("p",{},void 0,"order status",(0,n.Z)("div",{className:"count"},void 0,this.getOrdersCount(this.props.orders))))}}]),i}(r.Component),P=i(137),w=i(757),R=i.n(w),b=function(){function t(e){(0,o.Z)(this,t),this.domain=e}var e;return(0,a.Z)(t,[{key:"getCategories",value:(e=(0,P.Z)(R().mark((function t(){var e;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(this.domain,"categories"),t.abrupt("return",fetch(e,{method:"GET"}).then((function(t){return t.json()})).catch(console.error));case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}();function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,u.Z)(t);if(e){var r=(0,u.Z)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return(0,l.Z)(this,i)}}var N="http://localhost:8080/",S=new b(N),O=function(t){(0,c.Z)(i,t);var e=_(i);function i(t){var n;return(0,o.Z)(this,i),(n=e.call(this,t)).state={orders:{ordered:[],baking:[],finishing:[],served:[]},selectedCategory:"0",filters:[{id:"0",name:"vegetarian",isActive:!1},{id:"1",name:"vegan",isActive:!1},{id:"2",name:"tag0",isActive:!1},{id:"3",name:"tag1",isActive:!1},{id:"4",name:"tag2",isActive:!1}],isAllFilters:!1,categories:[]},n}return(0,a.Z)(i,[{key:"componentDidMount",value:function(){var t=this;S.getCategories().then((function(e){t.setState({categories:e})}))}},{key:"changeCategory",value:function(t){this.setState({selectedCategory:t})}},{key:"addOrder",value:function(t){var e=Object.assign({},this.state.orders);e.baking.push(t),this.setState({orders:e})}},{key:"switchFilter",value:function(t){var e=this.state.filters.slice(),i=e.findIndex((function(e){return e.id===t}));e[i].isActive=!e[i].isActive,this.setState({filters:e})}},{key:"switchDisplayAll",value:function(){var t=this.state.isAllFilters;t=!t,this.setState({isAllFilters:t})}},{key:"categoriesList",value:function(t){var e=this;return console.log(this.state.categories),this.state.categories.map((function(i){var r=t===i.id?"\u2014"+i.title:i.title;return(0,n.Z)("li",{},i.id,t===i.id?y||(y=(0,n.Z)("div",{className:"side-nav__marker"})):"",(0,n.Z)("button",{onClick:function(){return e.changeCategory(i.id)}},void 0,(0,n.Z)("h2",{},void 0,r)))}))}},{key:"render",value:function(){var t,e=this;console.log("render");var i=this.state.selectedCategory,r=this.categoriesList(i),s=this.state.categories.find((function(t){return t.id===i})),o=null===(t=this.state.filters.filter((function(t){return t.isActive})))||void 0===t?void 0:t.map((function(t){return t.id})),a=null===s||void 0===s?void 0:s.items.slice(),c=o.length>0?null===a||void 0===a?void 0:a.filter((function(t){var e=t.tags.filter((function(t){return o.includes(t)}));return e.length>0&&e.length<=t.tags.length&&e.length===o.length})):a;return(0,n.Z)("div",{className:"app"},void 0,(0,n.Z)("nav",{className:"side-nav"},void 0,k||(k=(0,n.Z)("h1",{},void 0,"P.")),A||(A=(0,n.Z)("p",{},void 0,"categories")),(0,n.Z)("ul",{},void 0,r)),(0,n.Z)("div",{className:"main"},void 0,(0,n.Z)("header",{},void 0,(0,n.Z)(g,{tags:this.state.filters,onSwitch:function(t){return e.switchFilter(t)},onSwitchAll:function(){return e.switchDisplayAll()},all:this.state.isAllFilters,staticPath:N}),(0,n.Z)(C,{orders:this.state.orders,staticPath:N})),(0,n.Z)(v,{items:c,title:null===s||void 0===s?void 0:s.title,onAdd:function(t){return e.addOrder(t)},staticPath:N})))}}]),i}(r.Component),x=i(379),B=i.n(x),T=i(795),F=i.n(T),I=i(695),D=i.n(I),E=i(216),j=i.n(E),L=i(382),G={styleTagTransform:function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},setAttributes:function(t){var e=i.nc;e&&t.setAttribute("nonce",e)},insert:function(t){var e=D()("head");if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(t)}};G.domAPI=F(),G.insertStyleElement=j();B()(L.Z,G);L.Z&&L.Z.locals&&L.Z.locals;s.render((0,n.Z)(O,{}),document.getElementById("root"))},382:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var n=i(645),r=i.n(n)()((function(t){return t[1]}));r.push([t.id,"html {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    overflow-y: hidden;\r\n    overflow-x: hidden;\r\n}\r\n\r\nbody {\r\n    padding: 0;\r\n    margin: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n",""]);const s=r}},t=>{"use strict";t.O(0,[578,357,510,905,532,190,805,410,183,698,279],(()=>{return e=424,t(t.s=e);var e}));t.O()}]);